http:
  routers:
    # ---------------------------------------------------------
    # ACCESO POR IP: Plataforma completa (login, admin, etc.)
    # ---------------------------------------------------------
    ip-frontend:
      entryPoints:
        - websecure
      rule: Host(`161.97.169.31`)
      service: frontend@docker
      tls:
        certResolver: le

    ip-api:
      entryPoints:
        - websecure
      rule: Host(`161.97.169.31`) && (PathPrefix(`/api`) || PathPrefix(`/storage`))
      service: api@docker
      tls:
        certResolver: le

    # ---------------------------------------------------------
    # ACCESO POR DOMINIO: Bodas específicas
    # Para agregar una nueva pareja, añade: || Host(`nuevodominio.com`)
    # ---------------------------------------------------------
    bodas-frontend:
      entryPoints:
        - websecure
      rule: Host(`redyypatricia.com`) || Host(`www.redyypatricia.com`)
      service: frontend@docker
      tls:
        certResolver: le

    bodas-api:
      entryPoints:
        - websecure
      rule: (Host(`redyypatricia.com`) || Host(`www.redyypatricia.com`)) && (PathPrefix(`/api`) || PathPrefix(`/storage`))
      service: api@docker
      tls:
        certResolver: le

tls:
  options:
    default:
      minVersion: VersionTLS12
